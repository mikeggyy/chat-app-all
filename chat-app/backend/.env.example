# ==================== AI 服務配置 ====================

# OpenAI API Key（用於對話和 TTS 語音生成）
OPENAI_API_KEY=

# TTS 服務選擇（Text-to-Speech 語音生成）
# true = 使用 Google Cloud TTS（推薦，成本更低 73%，台灣語音）
# false = 使用 OpenAI TTS（備用方案）
USE_GOOGLE_TTS=true

# Google AI API Key（用於 Gemini 2.5 Flash Image / Nano Banana 圖片生成）
# 取得方式：https://aistudio.google.com/apikey
GOOGLE_AI_API_KEY=

# Google Cloud Vertex AI（用於 Veo 3.1 Fast 影片生成 + Google Cloud TTS）
# 取得方式：https://console.cloud.google.com/
GOOGLE_CLOUD_PROJECT_ID=
# ⚠️ Veo 影片生成僅支援 us-central1 地區
# Google Cloud TTS 支援多個地區：
# - us-central1 (美國中部) - 必須使用此地區（Veo 要求）
# - asia-east1 (台灣) - 僅限 TTS（如需分離 TTS 和 Veo 可配置）
# - asia-east2 (香港) - 僅限 TTS
GOOGLE_CLOUD_LOCATION=us-central1
# 服務帳號 JSON 金鑰路徑（生產環境）或設置 GOOGLE_APPLICATION_CREDENTIALS 環境變數
# ⚠️ 此憑證同時用於：Veo 影片生成 + Google Cloud TTS
# GOOGLE_APPLICATION_CREDENTIALS=./path/to/service-account-key.json

# 影片生成服務提供者
# 選項：
# - hailuo: Hailuo 02 ($0.15/影片，10秒@512p，推薦）✨
# - replicate: Replicate Stable Video Diffusion ($0.07/影片，4.2秒@720p）
# - veo: Google Veo 3.1 Fast ($0.40/影片，8秒，需配額審批）
VIDEO_GENERATION_PROVIDER=hailuo

# Veo 測試模式（配額不足時使用）
# 設置為 true 時返回模擬影片，不消耗 API 配額（不管使用哪個提供者）
USE_MOCK_VIDEO=false

# 圖片生成測試模式（本地開發使用）
# 設置為 true 時返回測試圖片，不消耗 LLM API 配額（Gemini、OpenAI）
# 適用於：AI 角色自拍生成、角色創建圖片生成
USE_MOCK_IMAGE_GENERATION=false

# Veo 重試策略配置（僅用於 Veo 提供者）
# 啟用自動重試以應對臨時配額超限（429 錯誤）
VEO_ENABLE_RETRY=true
# 最大重試次數（建議 2-3 次）
VEO_MAX_RETRIES=3

# Cloudflare R2 Storage（用於圖片和影片儲存）✅ 已啟用
# 取得方式：https://dash.cloudflare.com/ -> R2 -> Create bucket -> Manage R2 API Tokens
R2_ENDPOINT=https://<ACCOUNT_ID>.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=
R2_PUBLIC_URL=https://<YOUR_CUSTOM_DOMAIN>

# Firebase Admin SDK（用於後端驗證 Firebase token）
FIREBASE_ADMIN_PROJECT_ID=chat-app-3-8a7ee
FIREBASE_ADMIN_CLIENT_EMAIL=
FIREBASE_ADMIN_PRIVATE_KEY=

# Firebase Storage（僅用於 Firebase Admin 初始化，實際儲存已改用 Cloudflare R2）
# 注意：圖片和影片現在都儲存在 Cloudflare R2，不再使用 Firebase Storage
# 格式：{project-id}.appspot.com
FIREBASE_STORAGE_BUCKET=chat-app-3-8a7ee.appspot.com
FIREBASE_STORAGE_EMULATOR_PORT=9299

# Firebase Emulator（開發環境使用本地模擬器）
# 設置為 true 時會連接到本地 Firebase Emulator，不需要真實的 Firebase Admin 憑證
USE_FIREBASE_EMULATOR=true
FIREBASE_EMULATOR_HOST=localhost
FIREBASE_EMULATOR_AUTH_PORT=9099
FIREBASE_EMULATOR_FIRESTORE_PORT=8080

# ==================== 開發環境設定 ====================

# 開發環境購買功能繞過（Development Purchase Bypass）
# ⚠️ 設置為 true 時，購買金幣和會員升級會直接成功，不需要實際支付
# ⚠️ 正式環境必須設置為 false 或完全移除此設定
# true = 開發模式（繞過實際支付流程）
# false = 正式環境（需要實際支付）
ENABLE_DEV_PURCHASE_BYPASS=true

# ==================== 廣告驗證設定 ====================

# AdMob 嚴格驗證模式（AdMob Server-Side Verification）
# 啟用 JWT-based 驗證以防止廣告獎勵欺詐
# true = 嚴格模式（需要 AdMob SDK 提供的 verificationToken）
# false = 寬鬆模式（僅用於開發測試，生產環境必須設為 true）
# ⚠️ 啟用前需要：
# 1. 在 Google AdMob Console 配置 Server-Side Verification (SSV) 回調 URL
# 2. 前端整合 AdMob SDK 並在驗證請求中傳遞 verificationToken
ENABLE_STRICT_AD_VERIFICATION=false

# ==================== API 成本監控設定 ====================

# 每日成本預警閾值（美元）
# 當每日 API 成本超過此值時發送警告
DAILY_COST_WARNING=10

# 每日成本嚴重閾值（美元）
# 當每日 API 成本超過此值時發送嚴重警告
DAILY_COST_CRITICAL=50

# 每月成本預警閾值（美元）
# 當每月 API 成本超過此值時發送警告
MONTHLY_COST_WARNING=100

# 每月成本嚴重閾值（美元）
# 當每月 API 成本超過此值時發送嚴重警告
MONTHLY_COST_CRITICAL=500
